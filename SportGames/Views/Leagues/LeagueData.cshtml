@model IEnumerable<SportGames.Models.Team>

@{
    ViewBag.Title = "LeagueData";
}

@{
    var data = ViewBag.LeagueName;
    var count = ViewBag.Count;
    var top = ViewBag.Top;


}

<script src="~/Scripts/jquery-3.3.1.min.js"></script>
<script type="text/javascript">

        $(document).ready(function () {
            if ( @count> 1)
                showPopup();
        });

        function showPopup() {
            //var text="It seems you like ";

            //$("#ModalTitle").html(text)
            $("#MyModal").modal();


        }



</script>

<link rel="stylesheet" type="text/css" href="~/Content/Site.css">
<img class="logo" src=@data.ImgURL alt="pl" width="200" height="200">

<div class="container">
    <div class="form-group">
        <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
            <input type="text" id="Search" onkeyup="myFunction()" placeholder="Enter the name" class="form-control" />
            <input type="text" id="Wins" onkeyup="myFunction()" placeholder="Number of Wins" class="form-control" />
            <input type="text" id="Losses" onkeyup="myFunction()" placeholder="Number of Losses" class="form-control" />

        </div>
    </div>
</div>
<p id="demo"></p>
<aside class="shadow">
    <h1><font face="Comic sans MS">Name Of Team</h1>
</aside>
<div class="aaa">
    <div class="column1 left" style="background-color:transparent;">
        <table id="myTable">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Wins)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Losses)
                </th>


            </tr>

            @foreach (var item in Model)
            {
                <tr class="myTable">
                    <td onclick="location.href='@Url.Action("TeamData","Teams",new { id = item.TeamId })'">
                        @item.Name
                    </td>
                    <td>
                        @item.Wins
                    </td>
                    <td>
                        @item.Losses
                    </td>

                </tr>
            }
        </table>
    </div>
    <div class="column1 right" style="background-color:transparent;">
        <section class="multi">
            @data.Description
        </section>
    </div>
</div>

@if (count > 1)
{
    <input class="glow" style="background-color:black" type="button" onclick="showPopup()" value="For YOU!"/>
}



<div class="modal fade" id="MyModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <a href="#" class="close" data-dismiss="modal">&times;</a>
                <h4 id="ModalTitle"> It seems you like @data.NameOfLeague </h4>
            </div>
            <div class="modal-body">
                SO...Just for you!
                The top 3 of the league are:
                @foreach (var item in top)

    {   
                <table >
                    <tr style="cursor: pointer;" >
                        <td class="modal-body" onclick="location.href='@Url.Action("TeamData","Teams",new { id = item.TeamId })'">
                            @item.Name
                        </td>
                        <td class="tablebody">
                            @item.Wins
                        </td>
                        <td class="tablebody">
                            @item.Losses
                        </td>

                    </tr>
                </table>
                    }
               

            </div>
        </div>
    </div>
</div>



<script>
    function myFunction() {
        var input1, input2, input3, filter1, filter2, filter3, table, tr, td1, td2, td3, i, txtValue1, txtValue2, txtValue3;
        input1 = document.getElementById("Search");
        filter1 = input1.value.toUpperCase();
        input2 = document.getElementById("Wins");
        filter2 = input2.value.toUpperCase();
        input3 = document.getElementById("Losses");
        filter3 = input3.value.toUpperCase();
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td1 = tr[i].getElementsByTagName("td")[0];
            td2 = tr[i].getElementsByTagName("td")[1];
            td3 = tr[i].getElementsByTagName("td")[2];
            if (td1) {
                txtValue1 = td1.textContent || td1.innerText;
                txtValue2 = td2.textContent || td2.innerText;
                txtValue3 = td3.textContent || td3.innerText;
                if (txtValue1.toUpperCase().indexOf(filter1) > -1
                    && txtValue2.toUpperCase().indexOf(filter2) > -1
                    && txtValue3.toUpperCase().indexOf(filter3) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

</script>









